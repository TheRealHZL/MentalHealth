# MindBridge AI Platform - Docker Environment Configuration
# This file is used when running with Docker Compose
# Copy this to .env.docker.local and customize for your setup

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
ENVIRONMENT=development
DEBUG=true
HOST=0.0.0.0
PORT=8080

# ============================================================================
# SECURITY (CRITICAL: Change these in production!)
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-in-production-minimum-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_HOURS=24
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# DATABASE
# ============================================================================
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://mindbridge_user:mindbridge_secure_password_change_me@postgres:5432/mindbridge_db
DATABASE_ECHO=false

# ============================================================================
# REDIS CACHE
# ============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# CORS AND SECURITY
# ============================================================================
ALLOWED_HOSTS=*
# CORS: Allow both localhost (external access) and service names (internal Docker)
CORS_ORIGINS=http://localhost:3000,http://frontend:3000,http://localhost:8080,http://backend:8080
HTTPS_ONLY=false

# ============================================================================
# AI CONFIGURATION
# ============================================================================
AI_ENGINE_ENABLED=true
AI_DEVICE=cpu

# AI Model Parameters
AI_TEMPERATURE=0.7
AI_TOP_P=0.9
AI_TOP_K=50
AI_MAX_LENGTH=512
MAX_RESPONSE_LENGTH=300

# Model Paths (inside container)
TOKENIZER_PATH=/app/data/models/tokenizer.pkl
EMOTION_MODEL_PATH=/app/data/models/emotion_classifier.pt
MOOD_MODEL_PATH=/app/data/models/mood_predictor.pt
CHAT_MODEL_PATH=/app/data/models/chat_generator.pt

# Model Architecture
VOCAB_SIZE=10000
EMBEDDING_DIM=128
HIDDEN_DIM=256
NUM_LAYERS=2
NUM_HEADS=8
FF_DIM=512
DROPOUT_RATE=0.1

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100
AUTH_RATE_LIMIT=5

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
ANALYTICS_ENABLED=true

# ============================================================================
# FEATURE FLAGS
# ============================================================================
THERAPIST_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_REQUIRED=false
SHARING_ENABLED=true

# ============================================================================
# BUSINESS LOGIC
# ============================================================================
MAX_MOOD_ENTRIES_PER_DAY=10
MAX_DREAM_ENTRIES_PER_DAY=5
MAX_THERAPY_NOTES_PER_DAY=20
DEFAULT_SHARE_KEY_EXPIRY_DAYS=90

# ============================================================================
# FRONTEND ENVIRONMENT (for Next.js)
# ============================================================================
# IMPORTANT: For Docker, use service name 'backend' for container-to-container communication
# For local development (outside Docker), use 'localhost'
NEXT_PUBLIC_API_URL=http://backend:8080
NEXT_PUBLIC_API_VERSION=v1
NEXT_TELEMETRY_DISABLED=1
