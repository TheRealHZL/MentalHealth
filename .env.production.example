# MindBridge AI Platform - Production Configuration
# Copy this file to .env in production and replace with your actual values

# Application
ENVIRONMENT=production
DEBUG=false

# Security - CRITICAL: Must use strong random keys in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_STRONG_RANDOM_KEY_MINIMUM_32_CHARS
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_HOURS=24
REFRESH_TOKEN_EXPIRE_DAYS=7

# Database - Production PostgreSQL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://mindbridge_user:STRONG_PASSWORD@postgres:5432/mindbridge_db
DATABASE_ECHO=false

# CORS and Security - IMPORTANT: Specify exact domains, no wildcards!
ALLOWED_HOSTS=mindbridge.app,www.mindbridge.app,api.mindbridge.app
CORS_ORIGINS=https://mindbridge.app,https://www.mindbridge.app
HTTPS_ONLY=true

# AI Configuration
AI_ENGINE_ENABLED=true
AI_DEVICE=cpu  # Use 'cuda' for GPU acceleration if available

# AI Model Configuration
AI_TEMPERATURE=0.7
AI_TOP_P=0.9
AI_TOP_K=50
AI_MAX_LENGTH=512
MAX_RESPONSE_LENGTH=300

# Model Paths (mounted volumes in production)
TOKENIZER_PATH=/app/data/models/tokenizer.pkl
EMOTION_MODEL_PATH=/app/data/models/emotion_classifier.pt
MOOD_MODEL_PATH=/app/data/models/mood_predictor.pt
CHAT_MODEL_PATH=/app/data/models/chat_generator.pt

# Model Architecture Parameters
VOCAB_SIZE=10000
EMBEDDING_DIM=128
HIDDEN_DIM=256
NUM_LAYERS=2
NUM_HEADS=8
FF_DIM=512
DROPOUT_RATE=0.1

# Email Configuration - Required for production
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=YOUR_SENDGRID_API_KEY
SMTP_USE_TLS=true
FROM_EMAIL=noreply@mindbridge.app

# File Storage (use mounted volumes in production)
UPLOAD_DIR=/app/data/uploads
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png

# Rate Limiting - Enabled in production
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100
AUTH_RATE_LIMIT=5

# Monitoring and Logging
LOG_LEVEL=INFO
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
ANALYTICS_ENABLED=true

# Feature Flags
THERAPIST_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_REQUIRED=true  # Enabled in production
SHARING_ENABLED=true

# Business Logic
MAX_MOOD_ENTRIES_PER_DAY=10
MAX_DREAM_ENTRIES_PER_DAY=5
MAX_THERAPY_NOTES_PER_DAY=20
DEFAULT_SHARE_KEY_EXPIRY_DAYS=90

# External Services (optional)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# Redis Configuration (for production caching and sessions)
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=STRONG_REDIS_PASSWORD
